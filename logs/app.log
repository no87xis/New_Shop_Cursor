2025-09-07 19:57:30,341 - app.main - INFO - Session middleware added successfully
2025-09-07 19:57:30,341 - app.main - WARNING - Static files directory not found
2025-09-07 19:57:30,341 - app.main - INFO - Uploads directory created and mounted
2025-09-07 19:57:30,360 - app.main - INFO - All routers included successfully
2025-09-07 19:57:30,361 - app.main - INFO - Starting Sirius Group V2 application...
2025-09-07 19:57:30,361 - app.db - ERROR - Database connection failed: Not an executable object: 'SELECT 1'
2025-09-07 19:57:30,361 - app.main - ERROR - Database connection failed
2025-09-07 19:57:30,361 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 19:57:30,361 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("products")
2025-09-07 19:57:30,361 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-07 19:57:30,362 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("orders")
2025-09-07 19:57:30,362 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-07 19:57:30,362 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("shop_orders")
2025-09-07 19:57:30,362 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-07 19:57:30,362 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("shop_cart")
2025-09-07 19:57:30,362 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-07 19:57:30,362 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("payment_methods")
2025-09-07 19:57:30,362 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-07 19:57:30,362 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("payment_instruments")
2025-09-07 19:57:30,362 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-07 19:57:30,362 - sqlalchemy.engine.Engine - INFO - PRAGMA main.table_info("users")
2025-09-07 19:57:30,362 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-07 19:57:30,362 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-07 19:57:30,362 - app.db - INFO - Database tables created successfully
2025-09-07 19:57:30,362 - app.main - INFO - Application startup completed successfully
2025-09-07 19:57:32,084 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 19:57:32,086 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products
 LIMIT ? OFFSET ?
2025-09-07 19:57:32,086 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (20, 0)
2025-09-07 19:57:32,088 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products) AS anon_1
2025-09-07 19:57:32,089 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ()
2025-09-07 19:57:32,090 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.availability_status = ?) AS anon_1
2025-09-07 19:57:32,090 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('IN_STOCK',)
2025-09-07 19:57:32,091 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.availability_status = ?) AS anon_1
2025-09-07 19:57:32,091 - sqlalchemy.engine.Engine - INFO - [cached since 0.0008317s ago] ('IN_TRANSIT',)
2025-09-07 19:57:32,092 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.availability_status = ?) AS anon_1
2025-09-07 19:57:32,092 - sqlalchemy.engine.Engine - INFO - [cached since 0.001865s ago] ('ON_ORDER',)
2025-09-07 19:57:32,093 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.quantity <= products.min_stock
2025-09-07 19:57:32,093 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ()
2025-09-07 19:57:32,094 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products
2025-09-07 19:57:32,094 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ()
2025-09-07 19:57:32,104 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-07 19:57:34,679 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 19:57:34,680 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.quantity > ?
2025-09-07 19:57:34,680 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (0,)
2025-09-07 19:57:34,681 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_cart.session_id AS shop_cart_session_id, shop_cart.product_id AS shop_cart_product_id, shop_cart.quantity AS shop_cart_quantity, shop_cart.id AS shop_cart_id, shop_cart.created_at AS shop_cart_created_at, shop_cart.updated_at AS shop_cart_updated_at 
FROM shop_cart 
WHERE shop_cart.session_id = ?) AS anon_1
2025-09-07 19:57:34,681 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('7e9ba088-4d37-4ec2-b731-c3daf678c8d9',)
2025-09-07 19:57:34,688 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-07 19:57:38,690 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 19:57:38,691 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.id = ?
 LIMIT ? OFFSET ?
2025-09-07 19:57:38,691 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (1, 1, 0)
2025-09-07 19:57:38,692 - sqlalchemy.engine.Engine - INFO - SELECT shop_cart.session_id AS shop_cart_session_id, shop_cart.product_id AS shop_cart_product_id, shop_cart.quantity AS shop_cart_quantity, shop_cart.id AS shop_cart_id, shop_cart.created_at AS shop_cart_created_at, shop_cart.updated_at AS shop_cart_updated_at 
FROM shop_cart 
WHERE shop_cart.session_id = ? AND shop_cart.product_id = ?
 LIMIT ? OFFSET ?
2025-09-07 19:57:38,692 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('d74a5b8d-7120-4ddf-9298-6f4ef632b2bf', 1, 1, 0)
2025-09-07 19:57:38,693 - sqlalchemy.engine.Engine - INFO - INSERT INTO shop_cart (session_id, product_id, quantity, updated_at) VALUES (?, ?, ?, ?) RETURNING id, created_at
2025-09-07 19:57:38,693 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('d74a5b8d-7120-4ddf-9298-6f4ef632b2bf', 1, 1, None)
2025-09-07 19:57:38,694 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-07 20:03:06,466 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 20:03:06,466 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products
 LIMIT ? OFFSET ?
2025-09-07 20:03:06,466 - sqlalchemy.engine.Engine - INFO - [cached since 334.4s ago] (20, 0)
2025-09-07 20:03:06,467 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products) AS anon_1
2025-09-07 20:03:06,467 - sqlalchemy.engine.Engine - INFO - [cached since 334.4s ago] ()
2025-09-07 20:03:06,467 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.availability_status = ?) AS anon_1
2025-09-07 20:03:06,468 - sqlalchemy.engine.Engine - INFO - [cached since 334.4s ago] ('IN_STOCK',)
2025-09-07 20:03:06,468 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.availability_status = ?) AS anon_1
2025-09-07 20:03:06,468 - sqlalchemy.engine.Engine - INFO - [cached since 334.4s ago] ('IN_TRANSIT',)
2025-09-07 20:03:06,469 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.availability_status = ?) AS anon_1
2025-09-07 20:03:06,469 - sqlalchemy.engine.Engine - INFO - [cached since 334.4s ago] ('ON_ORDER',)
2025-09-07 20:03:06,469 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.quantity <= products.min_stock
2025-09-07 20:03:06,469 - sqlalchemy.engine.Engine - INFO - [cached since 334.4s ago] ()
2025-09-07 20:03:06,470 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products
2025-09-07 20:03:06,470 - sqlalchemy.engine.Engine - INFO - [cached since 334.4s ago] ()
2025-09-07 20:03:06,471 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-07 20:03:08,667 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 20:03:08,667 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products
 LIMIT ? OFFSET ?
2025-09-07 20:03:08,667 - sqlalchemy.engine.Engine - INFO - [cached since 336.6s ago] (20, 0)
2025-09-07 20:03:08,668 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products) AS anon_1
2025-09-07 20:03:08,668 - sqlalchemy.engine.Engine - INFO - [cached since 336.6s ago] ()
2025-09-07 20:03:08,668 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.availability_status = ?) AS anon_1
2025-09-07 20:03:08,668 - sqlalchemy.engine.Engine - INFO - [cached since 336.6s ago] ('IN_STOCK',)
2025-09-07 20:03:08,668 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.availability_status = ?) AS anon_1
2025-09-07 20:03:08,668 - sqlalchemy.engine.Engine - INFO - [cached since 336.6s ago] ('IN_TRANSIT',)
2025-09-07 20:03:08,669 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.availability_status = ?) AS anon_1
2025-09-07 20:03:08,669 - sqlalchemy.engine.Engine - INFO - [cached since 336.6s ago] ('ON_ORDER',)
2025-09-07 20:03:08,669 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.quantity <= products.min_stock
2025-09-07 20:03:08,669 - sqlalchemy.engine.Engine - INFO - [cached since 336.6s ago] ()
2025-09-07 20:03:08,669 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products
2025-09-07 20:03:08,669 - sqlalchemy.engine.Engine - INFO - [cached since 336.6s ago] ()
2025-09-07 20:03:08,670 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-07 20:03:15,266 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 20:03:15,266 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.quantity > ?
2025-09-07 20:03:15,267 - sqlalchemy.engine.Engine - INFO - [cached since 340.6s ago] (0,)
2025-09-07 20:03:15,267 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_cart.session_id AS shop_cart_session_id, shop_cart.product_id AS shop_cart_product_id, shop_cart.quantity AS shop_cart_quantity, shop_cart.id AS shop_cart_id, shop_cart.created_at AS shop_cart_created_at, shop_cart.updated_at AS shop_cart_updated_at 
FROM shop_cart 
WHERE shop_cart.session_id = ?) AS anon_1
2025-09-07 20:03:15,267 - sqlalchemy.engine.Engine - INFO - [cached since 340.6s ago] ('bd077f3d-9c3e-48d8-ad4b-059ab6bb6ab5',)
2025-09-07 20:03:15,268 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-07 20:03:20,095 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 20:03:20,095 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.id = ?
 LIMIT ? OFFSET ?
2025-09-07 20:03:20,095 - sqlalchemy.engine.Engine - INFO - [cached since 341.4s ago] (1, 1, 0)
2025-09-07 20:03:20,096 - sqlalchemy.engine.Engine - INFO - SELECT shop_cart.session_id AS shop_cart_session_id, shop_cart.product_id AS shop_cart_product_id, shop_cart.quantity AS shop_cart_quantity, shop_cart.id AS shop_cart_id, shop_cart.created_at AS shop_cart_created_at, shop_cart.updated_at AS shop_cart_updated_at 
FROM shop_cart 
WHERE shop_cart.session_id = ? AND shop_cart.product_id = ?
 LIMIT ? OFFSET ?
2025-09-07 20:03:20,096 - sqlalchemy.engine.Engine - INFO - [cached since 341.4s ago] ('c82176a1-afd7-4524-a36c-639b2c5092ba', 1, 1, 0)
2025-09-07 20:03:20,096 - sqlalchemy.engine.Engine - INFO - INSERT INTO shop_cart (session_id, product_id, quantity, updated_at) VALUES (?, ?, ?, ?) RETURNING id, created_at
2025-09-07 20:03:20,096 - sqlalchemy.engine.Engine - INFO - [cached since 341.4s ago] ('c82176a1-afd7-4524-a36c-639b2c5092ba', 1, 1, None)
2025-09-07 20:03:20,097 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-07 20:03:22,961 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 20:03:22,961 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.id = ?
 LIMIT ? OFFSET ?
2025-09-07 20:03:22,961 - sqlalchemy.engine.Engine - INFO - [cached since 344.3s ago] (1, 1, 0)
2025-09-07 20:03:22,961 - sqlalchemy.engine.Engine - INFO - SELECT shop_cart.session_id AS shop_cart_session_id, shop_cart.product_id AS shop_cart_product_id, shop_cart.quantity AS shop_cart_quantity, shop_cart.id AS shop_cart_id, shop_cart.created_at AS shop_cart_created_at, shop_cart.updated_at AS shop_cart_updated_at 
FROM shop_cart 
WHERE shop_cart.session_id = ? AND shop_cart.product_id = ?
 LIMIT ? OFFSET ?
2025-09-07 20:03:22,961 - sqlalchemy.engine.Engine - INFO - [cached since 344.3s ago] ('3ab84581-28cc-4261-b74c-0df520274185', 1, 1, 0)
2025-09-07 20:03:22,962 - sqlalchemy.engine.Engine - INFO - INSERT INTO shop_cart (session_id, product_id, quantity, updated_at) VALUES (?, ?, ?, ?) RETURNING id, created_at
2025-09-07 20:03:22,962 - sqlalchemy.engine.Engine - INFO - [cached since 344.3s ago] ('3ab84581-28cc-4261-b74c-0df520274185', 1, 1, None)
2025-09-07 20:03:22,962 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-07 20:03:27,716 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 20:03:27,717 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.id = ?
 LIMIT ? OFFSET ?
2025-09-07 20:03:27,717 - sqlalchemy.engine.Engine - INFO - [cached since 349s ago] (2, 1, 0)
2025-09-07 20:03:27,717 - sqlalchemy.engine.Engine - INFO - SELECT shop_cart.session_id AS shop_cart_session_id, shop_cart.product_id AS shop_cart_product_id, shop_cart.quantity AS shop_cart_quantity, shop_cart.id AS shop_cart_id, shop_cart.created_at AS shop_cart_created_at, shop_cart.updated_at AS shop_cart_updated_at 
FROM shop_cart 
WHERE shop_cart.session_id = ? AND shop_cart.product_id = ?
 LIMIT ? OFFSET ?
2025-09-07 20:03:27,717 - sqlalchemy.engine.Engine - INFO - [cached since 349s ago] ('16d0c12a-a695-411d-8744-d1e7824a4b60', 2, 1, 0)
2025-09-07 20:03:27,718 - sqlalchemy.engine.Engine - INFO - INSERT INTO shop_cart (session_id, product_id, quantity, updated_at) VALUES (?, ?, ?, ?) RETURNING id, created_at
2025-09-07 20:03:27,718 - sqlalchemy.engine.Engine - INFO - [cached since 349s ago] ('16d0c12a-a695-411d-8744-d1e7824a4b60', 2, 1, None)
2025-09-07 20:03:27,718 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-07 20:03:31,690 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 20:03:31,690 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_cart.session_id AS shop_cart_session_id, shop_cart.product_id AS shop_cart_product_id, shop_cart.quantity AS shop_cart_quantity, shop_cart.id AS shop_cart_id, shop_cart.created_at AS shop_cart_created_at, shop_cart.updated_at AS shop_cart_updated_at 
FROM shop_cart 
WHERE shop_cart.session_id = ?) AS anon_1
2025-09-07 20:03:31,690 - sqlalchemy.engine.Engine - INFO - [cached since 357s ago] ('228426b1-fdb4-45f9-96c2-0cc1d2d60221',)
2025-09-07 20:03:31,691 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-07 20:03:37,279 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 20:03:37,279 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_cart.session_id AS shop_cart_session_id, shop_cart.product_id AS shop_cart_product_id, shop_cart.quantity AS shop_cart_quantity, shop_cart.id AS shop_cart_id, shop_cart.created_at AS shop_cart_created_at, shop_cart.updated_at AS shop_cart_updated_at 
FROM shop_cart 
WHERE shop_cart.session_id = ?) AS anon_1
2025-09-07 20:03:37,279 - sqlalchemy.engine.Engine - INFO - [cached since 362.6s ago] ('2481264a-9827-41ba-bf6e-6bea225e6826',)
2025-09-07 20:03:37,280 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-07 20:03:44,843 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 20:03:44,845 - sqlalchemy.engine.Engine - INFO - SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders
 LIMIT ? OFFSET ?
2025-09-07 20:03:44,845 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (20, 0)
2025-09-07 20:03:44,847 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders) AS anon_1
2025-09-07 20:03:44,848 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ()
2025-09-07 20:03:44,849 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders 
WHERE shop_orders.status = ?) AS anon_1
2025-09-07 20:03:44,850 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('ordered_not_paid',)
2025-09-07 20:03:44,850 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders 
WHERE shop_orders.status = ?) AS anon_1
2025-09-07 20:03:44,850 - sqlalchemy.engine.Engine - INFO - [cached since 0.0007282s ago] ('paid',)
2025-09-07 20:03:44,850 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders 
WHERE shop_orders.status = ?) AS anon_1
2025-09-07 20:03:44,850 - sqlalchemy.engine.Engine - INFO - [cached since 0.001118s ago] ('ready_for_pickup',)
2025-09-07 20:03:44,851 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders 
WHERE shop_orders.status = ?) AS anon_1
2025-09-07 20:03:44,851 - sqlalchemy.engine.Engine - INFO - [cached since 0.001509s ago] ('completed',)
2025-09-07 20:03:44,851 - sqlalchemy.engine.Engine - INFO - SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders
2025-09-07 20:03:44,851 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ()
2025-09-07 20:03:44,854 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders 
WHERE date(shop_orders.created_at) >= ?) AS anon_1
2025-09-07 20:03:44,854 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('2025-09-07',)
2025-09-07 20:03:44,863 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-07 20:03:48,936 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 20:03:48,936 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products) AS anon_1
2025-09-07 20:03:48,936 - sqlalchemy.engine.Engine - INFO - [cached since 376.8s ago] ()
2025-09-07 20:03:48,937 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.availability_status = ?) AS anon_1
2025-09-07 20:03:48,937 - sqlalchemy.engine.Engine - INFO - [cached since 376.8s ago] ('IN_STOCK',)
2025-09-07 20:03:48,937 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.availability_status = ?) AS anon_1
2025-09-07 20:03:48,937 - sqlalchemy.engine.Engine - INFO - [cached since 376.8s ago] ('IN_TRANSIT',)
2025-09-07 20:03:48,937 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.availability_status = ?) AS anon_1
2025-09-07 20:03:48,938 - sqlalchemy.engine.Engine - INFO - [cached since 376.8s ago] ('ON_ORDER',)
2025-09-07 20:03:48,938 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.quantity <= products.min_stock
2025-09-07 20:03:48,938 - sqlalchemy.engine.Engine - INFO - [cached since 376.8s ago] ()
2025-09-07 20:03:48,938 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products
2025-09-07 20:03:48,938 - sqlalchemy.engine.Engine - INFO - [cached since 376.8s ago] ()
2025-09-07 20:03:48,941 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.phone AS orders_phone, orders.customer_name AS orders_customer_name, orders.client_city AS orders_client_city, orders.product_id AS orders_product_id, orders.product_name AS orders_product_name, orders.qty AS orders_qty, orders.unit_price_rub AS orders_unit_price_rub, orders.eur_rate AS orders_eur_rate, orders.order_code AS orders_order_code, orders.order_code_last4 AS orders_order_code_last4, orders.payment_method_id AS orders_payment_method_id, orders.payment_instrument_id AS orders_payment_instrument_id, orders.paid_amount AS orders_paid_amount, orders.paid_at AS orders_paid_at, orders.payment_method AS orders_payment_method, orders.payment_note AS orders_payment_note, orders.status AS orders_status, orders.arrival_status AS orders_arrival_status, orders.arrival_notified_at AS orders_arrival_notified_at, orders.arrival_notifications_count AS orders_arrival_notifications_count, orders.issued_at AS orders_issued_at, orders.user_id AS orders_user_id, orders.source AS orders_source, orders.qr_payload AS orders_qr_payload, orders.qr_image_path AS orders_qr_image_path, orders.whatsapp_phone AS orders_whatsapp_phone, orders.consent_whatsapp AS orders_consent_whatsapp, orders.id AS orders_id, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders) AS anon_1
2025-09-07 20:03:48,941 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ()
2025-09-07 20:03:48,948 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.phone AS orders_phone, orders.customer_name AS orders_customer_name, orders.client_city AS orders_client_city, orders.product_id AS orders_product_id, orders.product_name AS orders_product_name, orders.qty AS orders_qty, orders.unit_price_rub AS orders_unit_price_rub, orders.eur_rate AS orders_eur_rate, orders.order_code AS orders_order_code, orders.order_code_last4 AS orders_order_code_last4, orders.payment_method_id AS orders_payment_method_id, orders.payment_instrument_id AS orders_payment_instrument_id, orders.paid_amount AS orders_paid_amount, orders.paid_at AS orders_paid_at, orders.payment_method AS orders_payment_method, orders.payment_note AS orders_payment_note, orders.status AS orders_status, orders.arrival_status AS orders_arrival_status, orders.arrival_notified_at AS orders_arrival_notified_at, orders.arrival_notifications_count AS orders_arrival_notifications_count, orders.issued_at AS orders_issued_at, orders.user_id AS orders_user_id, orders.source AS orders_source, orders.qr_payload AS orders_qr_payload, orders.qr_image_path AS orders_qr_image_path, orders.whatsapp_phone AS orders_whatsapp_phone, orders.consent_whatsapp AS orders_consent_whatsapp, orders.id AS orders_id, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders 
WHERE orders.status = ?) AS anon_1
2025-09-07 20:03:48,948 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('unpaid',)
2025-09-07 20:03:48,949 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.phone AS orders_phone, orders.customer_name AS orders_customer_name, orders.client_city AS orders_client_city, orders.product_id AS orders_product_id, orders.product_name AS orders_product_name, orders.qty AS orders_qty, orders.unit_price_rub AS orders_unit_price_rub, orders.eur_rate AS orders_eur_rate, orders.order_code AS orders_order_code, orders.order_code_last4 AS orders_order_code_last4, orders.payment_method_id AS orders_payment_method_id, orders.payment_instrument_id AS orders_payment_instrument_id, orders.paid_amount AS orders_paid_amount, orders.paid_at AS orders_paid_at, orders.payment_method AS orders_payment_method, orders.payment_note AS orders_payment_note, orders.status AS orders_status, orders.arrival_status AS orders_arrival_status, orders.arrival_notified_at AS orders_arrival_notified_at, orders.arrival_notifications_count AS orders_arrival_notifications_count, orders.issued_at AS orders_issued_at, orders.user_id AS orders_user_id, orders.source AS orders_source, orders.qr_payload AS orders_qr_payload, orders.qr_image_path AS orders_qr_image_path, orders.whatsapp_phone AS orders_whatsapp_phone, orders.consent_whatsapp AS orders_consent_whatsapp, orders.id AS orders_id, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders 
WHERE orders.status = ?) AS anon_1
2025-09-07 20:03:48,949 - sqlalchemy.engine.Engine - INFO - [cached since 0.0007907s ago] ('paid_not_issued',)
2025-09-07 20:03:48,949 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.phone AS orders_phone, orders.customer_name AS orders_customer_name, orders.client_city AS orders_client_city, orders.product_id AS orders_product_id, orders.product_name AS orders_product_name, orders.qty AS orders_qty, orders.unit_price_rub AS orders_unit_price_rub, orders.eur_rate AS orders_eur_rate, orders.order_code AS orders_order_code, orders.order_code_last4 AS orders_order_code_last4, orders.payment_method_id AS orders_payment_method_id, orders.payment_instrument_id AS orders_payment_instrument_id, orders.paid_amount AS orders_paid_amount, orders.paid_at AS orders_paid_at, orders.payment_method AS orders_payment_method, orders.payment_note AS orders_payment_note, orders.status AS orders_status, orders.arrival_status AS orders_arrival_status, orders.arrival_notified_at AS orders_arrival_notified_at, orders.arrival_notifications_count AS orders_arrival_notifications_count, orders.issued_at AS orders_issued_at, orders.user_id AS orders_user_id, orders.source AS orders_source, orders.qr_payload AS orders_qr_payload, orders.qr_image_path AS orders_qr_image_path, orders.whatsapp_phone AS orders_whatsapp_phone, orders.consent_whatsapp AS orders_consent_whatsapp, orders.id AS orders_id, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders 
WHERE orders.status = ?) AS anon_1
2025-09-07 20:03:48,949 - sqlalchemy.engine.Engine - INFO - [cached since 0.001153s ago] ('paid_issued',)
2025-09-07 20:03:48,949 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.phone AS orders_phone, orders.customer_name AS orders_customer_name, orders.client_city AS orders_client_city, orders.product_id AS orders_product_id, orders.product_name AS orders_product_name, orders.qty AS orders_qty, orders.unit_price_rub AS orders_unit_price_rub, orders.eur_rate AS orders_eur_rate, orders.order_code AS orders_order_code, orders.order_code_last4 AS orders_order_code_last4, orders.payment_method_id AS orders_payment_method_id, orders.payment_instrument_id AS orders_payment_instrument_id, orders.paid_amount AS orders_paid_amount, orders.paid_at AS orders_paid_at, orders.payment_method AS orders_payment_method, orders.payment_note AS orders_payment_note, orders.status AS orders_status, orders.arrival_status AS orders_arrival_status, orders.arrival_notified_at AS orders_arrival_notified_at, orders.arrival_notifications_count AS orders_arrival_notifications_count, orders.issued_at AS orders_issued_at, orders.user_id AS orders_user_id, orders.source AS orders_source, orders.qr_payload AS orders_qr_payload, orders.qr_image_path AS orders_qr_image_path, orders.whatsapp_phone AS orders_whatsapp_phone, orders.consent_whatsapp AS orders_consent_whatsapp, orders.id AS orders_id, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders 
WHERE orders.status = ?) AS anon_1
2025-09-07 20:03:48,950 - sqlalchemy.engine.Engine - INFO - [cached since 0.001516s ago] ('self_pickup',)
2025-09-07 20:03:48,950 - sqlalchemy.engine.Engine - INFO - SELECT orders.phone AS orders_phone, orders.customer_name AS orders_customer_name, orders.client_city AS orders_client_city, orders.product_id AS orders_product_id, orders.product_name AS orders_product_name, orders.qty AS orders_qty, orders.unit_price_rub AS orders_unit_price_rub, orders.eur_rate AS orders_eur_rate, orders.order_code AS orders_order_code, orders.order_code_last4 AS orders_order_code_last4, orders.payment_method_id AS orders_payment_method_id, orders.payment_instrument_id AS orders_payment_instrument_id, orders.paid_amount AS orders_paid_amount, orders.paid_at AS orders_paid_at, orders.payment_method AS orders_payment_method, orders.payment_note AS orders_payment_note, orders.status AS orders_status, orders.arrival_status AS orders_arrival_status, orders.arrival_notified_at AS orders_arrival_notified_at, orders.arrival_notifications_count AS orders_arrival_notifications_count, orders.issued_at AS orders_issued_at, orders.user_id AS orders_user_id, orders.source AS orders_source, orders.qr_payload AS orders_qr_payload, orders.qr_image_path AS orders_qr_image_path, orders.whatsapp_phone AS orders_whatsapp_phone, orders.consent_whatsapp AS orders_consent_whatsapp, orders.id AS orders_id, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders
2025-09-07 20:03:48,950 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ()
2025-09-07 20:03:48,952 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.phone AS orders_phone, orders.customer_name AS orders_customer_name, orders.client_city AS orders_client_city, orders.product_id AS orders_product_id, orders.product_name AS orders_product_name, orders.qty AS orders_qty, orders.unit_price_rub AS orders_unit_price_rub, orders.eur_rate AS orders_eur_rate, orders.order_code AS orders_order_code, orders.order_code_last4 AS orders_order_code_last4, orders.payment_method_id AS orders_payment_method_id, orders.payment_instrument_id AS orders_payment_instrument_id, orders.paid_amount AS orders_paid_amount, orders.paid_at AS orders_paid_at, orders.payment_method AS orders_payment_method, orders.payment_note AS orders_payment_note, orders.status AS orders_status, orders.arrival_status AS orders_arrival_status, orders.arrival_notified_at AS orders_arrival_notified_at, orders.arrival_notifications_count AS orders_arrival_notifications_count, orders.issued_at AS orders_issued_at, orders.user_id AS orders_user_id, orders.source AS orders_source, orders.qr_payload AS orders_qr_payload, orders.qr_image_path AS orders_qr_image_path, orders.whatsapp_phone AS orders_whatsapp_phone, orders.consent_whatsapp AS orders_consent_whatsapp, orders.id AS orders_id, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders 
WHERE date(orders.created_at) >= ?) AS anon_1
2025-09-07 20:03:48,952 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('2025-09-07',)
2025-09-07 20:03:48,953 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders) AS anon_1
2025-09-07 20:03:48,953 - sqlalchemy.engine.Engine - INFO - [cached since 4.106s ago] ()
2025-09-07 20:03:48,953 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders 
WHERE shop_orders.status = ?) AS anon_1
2025-09-07 20:03:48,953 - sqlalchemy.engine.Engine - INFO - [cached since 4.104s ago] ('ordered_not_paid',)
2025-09-07 20:03:48,954 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders 
WHERE shop_orders.status = ?) AS anon_1
2025-09-07 20:03:48,954 - sqlalchemy.engine.Engine - INFO - [cached since 4.104s ago] ('paid',)
2025-09-07 20:03:48,954 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders 
WHERE shop_orders.status = ?) AS anon_1
2025-09-07 20:03:48,954 - sqlalchemy.engine.Engine - INFO - [cached since 4.105s ago] ('ready_for_pickup',)
2025-09-07 20:03:48,954 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders 
WHERE shop_orders.status = ?) AS anon_1
2025-09-07 20:03:48,955 - sqlalchemy.engine.Engine - INFO - [cached since 4.105s ago] ('completed',)
2025-09-07 20:03:48,955 - sqlalchemy.engine.Engine - INFO - SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders
2025-09-07 20:03:48,955 - sqlalchemy.engine.Engine - INFO - [cached since 4.103s ago] ()
2025-09-07 20:03:48,955 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders 
WHERE date(shop_orders.created_at) >= ?) AS anon_1
2025-09-07 20:03:48,955 - sqlalchemy.engine.Engine - INFO - [cached since 4.101s ago] ('2025-09-07',)
2025-09-07 20:03:48,956 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products ORDER BY products.quantity DESC
 LIMIT ? OFFSET ?
2025-09-07 20:03:48,956 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (10, 0)
2025-09-07 20:03:48,957 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products ORDER BY products.created_at DESC
 LIMIT ? OFFSET ?
2025-09-07 20:03:48,957 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (10, 0)
2025-09-07 20:03:48,966 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-07 20:03:52,740 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 20:03:52,741 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.id = ?
 LIMIT ? OFFSET ?
2025-09-07 20:03:52,741 - sqlalchemy.engine.Engine - INFO - [cached since 374.1s ago] (1, 1, 0)
2025-09-07 20:03:52,745 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-07 20:03:56,878 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 20:03:56,879 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.id = ?
 LIMIT ? OFFSET ?
2025-09-07 20:03:56,879 - sqlalchemy.engine.Engine - INFO - [cached since 378.2s ago] (1, 1, 0)
2025-09-07 20:03:56,879 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_cart.session_id AS shop_cart_session_id, shop_cart.product_id AS shop_cart_product_id, shop_cart.quantity AS shop_cart_quantity, shop_cart.id AS shop_cart_id, shop_cart.created_at AS shop_cart_created_at, shop_cart.updated_at AS shop_cart_updated_at 
FROM shop_cart 
WHERE shop_cart.session_id = ?) AS anon_1
2025-09-07 20:03:56,879 - sqlalchemy.engine.Engine - INFO - [cached since 382.2s ago] ('ddd37402-8665-4aa9-a046-8088d9bcd0b6',)
2025-09-07 20:03:56,886 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-09-07 20:04:00,692 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-07 20:04:00,692 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products) AS anon_1
2025-09-07 20:04:00,693 - sqlalchemy.engine.Engine - INFO - [cached since 388.6s ago] ()
2025-09-07 20:04:00,693 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.availability_status = ?) AS anon_1
2025-09-07 20:04:00,693 - sqlalchemy.engine.Engine - INFO - [cached since 388.6s ago] ('IN_STOCK',)
2025-09-07 20:04:00,693 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.availability_status = ?) AS anon_1
2025-09-07 20:04:00,693 - sqlalchemy.engine.Engine - INFO - [cached since 388.6s ago] ('IN_TRANSIT',)
2025-09-07 20:04:00,694 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.availability_status = ?) AS anon_1
2025-09-07 20:04:00,694 - sqlalchemy.engine.Engine - INFO - [cached since 388.6s ago] ('ON_ORDER',)
2025-09-07 20:04:00,694 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products 
WHERE products.quantity <= products.min_stock
2025-09-07 20:04:00,694 - sqlalchemy.engine.Engine - INFO - [cached since 388.6s ago] ()
2025-09-07 20:04:00,694 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products
2025-09-07 20:04:00,694 - sqlalchemy.engine.Engine - INFO - [cached since 388.6s ago] ()
2025-09-07 20:04:00,695 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.phone AS orders_phone, orders.customer_name AS orders_customer_name, orders.client_city AS orders_client_city, orders.product_id AS orders_product_id, orders.product_name AS orders_product_name, orders.qty AS orders_qty, orders.unit_price_rub AS orders_unit_price_rub, orders.eur_rate AS orders_eur_rate, orders.order_code AS orders_order_code, orders.order_code_last4 AS orders_order_code_last4, orders.payment_method_id AS orders_payment_method_id, orders.payment_instrument_id AS orders_payment_instrument_id, orders.paid_amount AS orders_paid_amount, orders.paid_at AS orders_paid_at, orders.payment_method AS orders_payment_method, orders.payment_note AS orders_payment_note, orders.status AS orders_status, orders.arrival_status AS orders_arrival_status, orders.arrival_notified_at AS orders_arrival_notified_at, orders.arrival_notifications_count AS orders_arrival_notifications_count, orders.issued_at AS orders_issued_at, orders.user_id AS orders_user_id, orders.source AS orders_source, orders.qr_payload AS orders_qr_payload, orders.qr_image_path AS orders_qr_image_path, orders.whatsapp_phone AS orders_whatsapp_phone, orders.consent_whatsapp AS orders_consent_whatsapp, orders.id AS orders_id, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders) AS anon_1
2025-09-07 20:04:00,695 - sqlalchemy.engine.Engine - INFO - [cached since 11.75s ago] ()
2025-09-07 20:04:00,695 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.phone AS orders_phone, orders.customer_name AS orders_customer_name, orders.client_city AS orders_client_city, orders.product_id AS orders_product_id, orders.product_name AS orders_product_name, orders.qty AS orders_qty, orders.unit_price_rub AS orders_unit_price_rub, orders.eur_rate AS orders_eur_rate, orders.order_code AS orders_order_code, orders.order_code_last4 AS orders_order_code_last4, orders.payment_method_id AS orders_payment_method_id, orders.payment_instrument_id AS orders_payment_instrument_id, orders.paid_amount AS orders_paid_amount, orders.paid_at AS orders_paid_at, orders.payment_method AS orders_payment_method, orders.payment_note AS orders_payment_note, orders.status AS orders_status, orders.arrival_status AS orders_arrival_status, orders.arrival_notified_at AS orders_arrival_notified_at, orders.arrival_notifications_count AS orders_arrival_notifications_count, orders.issued_at AS orders_issued_at, orders.user_id AS orders_user_id, orders.source AS orders_source, orders.qr_payload AS orders_qr_payload, orders.qr_image_path AS orders_qr_image_path, orders.whatsapp_phone AS orders_whatsapp_phone, orders.consent_whatsapp AS orders_consent_whatsapp, orders.id AS orders_id, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders 
WHERE orders.status = ?) AS anon_1
2025-09-07 20:04:00,695 - sqlalchemy.engine.Engine - INFO - [cached since 11.75s ago] ('unpaid',)
2025-09-07 20:04:00,695 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.phone AS orders_phone, orders.customer_name AS orders_customer_name, orders.client_city AS orders_client_city, orders.product_id AS orders_product_id, orders.product_name AS orders_product_name, orders.qty AS orders_qty, orders.unit_price_rub AS orders_unit_price_rub, orders.eur_rate AS orders_eur_rate, orders.order_code AS orders_order_code, orders.order_code_last4 AS orders_order_code_last4, orders.payment_method_id AS orders_payment_method_id, orders.payment_instrument_id AS orders_payment_instrument_id, orders.paid_amount AS orders_paid_amount, orders.paid_at AS orders_paid_at, orders.payment_method AS orders_payment_method, orders.payment_note AS orders_payment_note, orders.status AS orders_status, orders.arrival_status AS orders_arrival_status, orders.arrival_notified_at AS orders_arrival_notified_at, orders.arrival_notifications_count AS orders_arrival_notifications_count, orders.issued_at AS orders_issued_at, orders.user_id AS orders_user_id, orders.source AS orders_source, orders.qr_payload AS orders_qr_payload, orders.qr_image_path AS orders_qr_image_path, orders.whatsapp_phone AS orders_whatsapp_phone, orders.consent_whatsapp AS orders_consent_whatsapp, orders.id AS orders_id, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders 
WHERE orders.status = ?) AS anon_1
2025-09-07 20:04:00,696 - sqlalchemy.engine.Engine - INFO - [cached since 11.75s ago] ('paid_not_issued',)
2025-09-07 20:04:00,696 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.phone AS orders_phone, orders.customer_name AS orders_customer_name, orders.client_city AS orders_client_city, orders.product_id AS orders_product_id, orders.product_name AS orders_product_name, orders.qty AS orders_qty, orders.unit_price_rub AS orders_unit_price_rub, orders.eur_rate AS orders_eur_rate, orders.order_code AS orders_order_code, orders.order_code_last4 AS orders_order_code_last4, orders.payment_method_id AS orders_payment_method_id, orders.payment_instrument_id AS orders_payment_instrument_id, orders.paid_amount AS orders_paid_amount, orders.paid_at AS orders_paid_at, orders.payment_method AS orders_payment_method, orders.payment_note AS orders_payment_note, orders.status AS orders_status, orders.arrival_status AS orders_arrival_status, orders.arrival_notified_at AS orders_arrival_notified_at, orders.arrival_notifications_count AS orders_arrival_notifications_count, orders.issued_at AS orders_issued_at, orders.user_id AS orders_user_id, orders.source AS orders_source, orders.qr_payload AS orders_qr_payload, orders.qr_image_path AS orders_qr_image_path, orders.whatsapp_phone AS orders_whatsapp_phone, orders.consent_whatsapp AS orders_consent_whatsapp, orders.id AS orders_id, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders 
WHERE orders.status = ?) AS anon_1
2025-09-07 20:04:00,696 - sqlalchemy.engine.Engine - INFO - [cached since 11.75s ago] ('paid_issued',)
2025-09-07 20:04:00,696 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.phone AS orders_phone, orders.customer_name AS orders_customer_name, orders.client_city AS orders_client_city, orders.product_id AS orders_product_id, orders.product_name AS orders_product_name, orders.qty AS orders_qty, orders.unit_price_rub AS orders_unit_price_rub, orders.eur_rate AS orders_eur_rate, orders.order_code AS orders_order_code, orders.order_code_last4 AS orders_order_code_last4, orders.payment_method_id AS orders_payment_method_id, orders.payment_instrument_id AS orders_payment_instrument_id, orders.paid_amount AS orders_paid_amount, orders.paid_at AS orders_paid_at, orders.payment_method AS orders_payment_method, orders.payment_note AS orders_payment_note, orders.status AS orders_status, orders.arrival_status AS orders_arrival_status, orders.arrival_notified_at AS orders_arrival_notified_at, orders.arrival_notifications_count AS orders_arrival_notifications_count, orders.issued_at AS orders_issued_at, orders.user_id AS orders_user_id, orders.source AS orders_source, orders.qr_payload AS orders_qr_payload, orders.qr_image_path AS orders_qr_image_path, orders.whatsapp_phone AS orders_whatsapp_phone, orders.consent_whatsapp AS orders_consent_whatsapp, orders.id AS orders_id, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders 
WHERE orders.status = ?) AS anon_1
2025-09-07 20:04:00,696 - sqlalchemy.engine.Engine - INFO - [cached since 11.75s ago] ('self_pickup',)
2025-09-07 20:04:00,696 - sqlalchemy.engine.Engine - INFO - SELECT orders.phone AS orders_phone, orders.customer_name AS orders_customer_name, orders.client_city AS orders_client_city, orders.product_id AS orders_product_id, orders.product_name AS orders_product_name, orders.qty AS orders_qty, orders.unit_price_rub AS orders_unit_price_rub, orders.eur_rate AS orders_eur_rate, orders.order_code AS orders_order_code, orders.order_code_last4 AS orders_order_code_last4, orders.payment_method_id AS orders_payment_method_id, orders.payment_instrument_id AS orders_payment_instrument_id, orders.paid_amount AS orders_paid_amount, orders.paid_at AS orders_paid_at, orders.payment_method AS orders_payment_method, orders.payment_note AS orders_payment_note, orders.status AS orders_status, orders.arrival_status AS orders_arrival_status, orders.arrival_notified_at AS orders_arrival_notified_at, orders.arrival_notifications_count AS orders_arrival_notifications_count, orders.issued_at AS orders_issued_at, orders.user_id AS orders_user_id, orders.source AS orders_source, orders.qr_payload AS orders_qr_payload, orders.qr_image_path AS orders_qr_image_path, orders.whatsapp_phone AS orders_whatsapp_phone, orders.consent_whatsapp AS orders_consent_whatsapp, orders.id AS orders_id, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders
2025-09-07 20:04:00,697 - sqlalchemy.engine.Engine - INFO - [cached since 11.75s ago] ()
2025-09-07 20:04:00,697 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT orders.phone AS orders_phone, orders.customer_name AS orders_customer_name, orders.client_city AS orders_client_city, orders.product_id AS orders_product_id, orders.product_name AS orders_product_name, orders.qty AS orders_qty, orders.unit_price_rub AS orders_unit_price_rub, orders.eur_rate AS orders_eur_rate, orders.order_code AS orders_order_code, orders.order_code_last4 AS orders_order_code_last4, orders.payment_method_id AS orders_payment_method_id, orders.payment_instrument_id AS orders_payment_instrument_id, orders.paid_amount AS orders_paid_amount, orders.paid_at AS orders_paid_at, orders.payment_method AS orders_payment_method, orders.payment_note AS orders_payment_note, orders.status AS orders_status, orders.arrival_status AS orders_arrival_status, orders.arrival_notified_at AS orders_arrival_notified_at, orders.arrival_notifications_count AS orders_arrival_notifications_count, orders.issued_at AS orders_issued_at, orders.user_id AS orders_user_id, orders.source AS orders_source, orders.qr_payload AS orders_qr_payload, orders.qr_image_path AS orders_qr_image_path, orders.whatsapp_phone AS orders_whatsapp_phone, orders.consent_whatsapp AS orders_consent_whatsapp, orders.id AS orders_id, orders.created_at AS orders_created_at, orders.updated_at AS orders_updated_at 
FROM orders 
WHERE date(orders.created_at) >= ?) AS anon_1
2025-09-07 20:04:00,697 - sqlalchemy.engine.Engine - INFO - [cached since 11.74s ago] ('2025-09-07',)
2025-09-07 20:04:00,697 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders) AS anon_1
2025-09-07 20:04:00,697 - sqlalchemy.engine.Engine - INFO - [cached since 15.85s ago] ()
2025-09-07 20:04:00,698 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders 
WHERE shop_orders.status = ?) AS anon_1
2025-09-07 20:04:00,698 - sqlalchemy.engine.Engine - INFO - [cached since 15.85s ago] ('ordered_not_paid',)
2025-09-07 20:04:00,698 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders 
WHERE shop_orders.status = ?) AS anon_1
2025-09-07 20:04:00,698 - sqlalchemy.engine.Engine - INFO - [cached since 15.85s ago] ('paid',)
2025-09-07 20:04:00,698 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders 
WHERE shop_orders.status = ?) AS anon_1
2025-09-07 20:04:00,698 - sqlalchemy.engine.Engine - INFO - [cached since 15.85s ago] ('ready_for_pickup',)
2025-09-07 20:04:00,699 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders 
WHERE shop_orders.status = ?) AS anon_1
2025-09-07 20:04:00,699 - sqlalchemy.engine.Engine - INFO - [cached since 15.85s ago] ('completed',)
2025-09-07 20:04:00,699 - sqlalchemy.engine.Engine - INFO - SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders
2025-09-07 20:04:00,699 - sqlalchemy.engine.Engine - INFO - [cached since 15.85s ago] ()
2025-09-07 20:04:00,699 - sqlalchemy.engine.Engine - INFO - SELECT count(*) AS count_1 
FROM (SELECT shop_orders.order_code AS shop_orders_order_code, shop_orders.order_code_last4 AS shop_orders_order_code_last4, shop_orders.customer_name AS shop_orders_customer_name, shop_orders.customer_phone AS shop_orders_customer_phone, shop_orders.customer_city AS shop_orders_customer_city, shop_orders.product_id AS shop_orders_product_id, shop_orders.product_name AS shop_orders_product_name, shop_orders.quantity AS shop_orders_quantity, shop_orders.unit_price_rub AS shop_orders_unit_price_rub, shop_orders.total_amount AS shop_orders_total_amount, shop_orders.payment_method_id AS shop_orders_payment_method_id, shop_orders.payment_method_name AS shop_orders_payment_method_name, shop_orders.delivery_option AS shop_orders_delivery_option, shop_orders.delivery_city_other AS shop_orders_delivery_city_other, shop_orders.delivery_cost_rub AS shop_orders_delivery_cost_rub, shop_orders.status AS shop_orders_status, shop_orders.arrival_status AS shop_orders_arrival_status, shop_orders.arrival_notified_at AS shop_orders_arrival_notified_at, shop_orders.arrival_notifications_count AS shop_orders_arrival_notifications_count, shop_orders.reserved_until AS shop_orders_reserved_until, shop_orders.expected_delivery_date AS shop_orders_expected_delivery_date, shop_orders.qr_payload AS shop_orders_qr_payload, shop_orders.qr_image_path AS shop_orders_qr_image_path, shop_orders.whatsapp_phone AS shop_orders_whatsapp_phone, shop_orders.consent_whatsapp AS shop_orders_consent_whatsapp, shop_orders.id AS shop_orders_id, shop_orders.created_at AS shop_orders_created_at, shop_orders.updated_at AS shop_orders_updated_at 
FROM shop_orders 
WHERE date(shop_orders.created_at) >= ?) AS anon_1
2025-09-07 20:04:00,699 - sqlalchemy.engine.Engine - INFO - [cached since 15.85s ago] ('2025-09-07',)
2025-09-07 20:04:00,700 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products ORDER BY products.quantity DESC
 LIMIT ? OFFSET ?
2025-09-07 20:04:00,700 - sqlalchemy.engine.Engine - INFO - [cached since 11.74s ago] (10, 0)
2025-09-07 20:04:00,700 - sqlalchemy.engine.Engine - INFO - SELECT products.name AS products_name, products.description AS products_description, products.detailed_description AS products_detailed_description, products.quantity AS products_quantity, products.min_stock AS products_min_stock, products.buy_price_eur AS products_buy_price_eur, products.sell_price_rub AS products_sell_price_rub, products.supplier_name AS products_supplier_name, products.availability_status AS products_availability_status, products.expected_date AS products_expected_date, products.photo_path AS products_photo_path, products.id AS products_id, products.created_at AS products_created_at, products.updated_at AS products_updated_at 
FROM products ORDER BY products.created_at DESC
 LIMIT ? OFFSET ?
2025-09-07 20:04:00,700 - sqlalchemy.engine.Engine - INFO - [cached since 11.74s ago] (10, 0)
2025-09-07 20:04:00,701 - sqlalchemy.engine.Engine - INFO - ROLLBACK
